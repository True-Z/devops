---
title: CSS 奇技淫巧
date: 2025-09-25 16:39:58
permalink: /fe/css-skill
categories:
  - 编程
  - 前端
  - CSS
tags:
  - CSS
  - CSS 奇技淫巧
  - 解决方案
---

## 清除浮动

### 1. clear: both

元素浮动脱标后，无法撑起父元素的高度，影响父元素的布局，与浮动元素同级的非浮动元素（内联元素）会跟随其后，影响布局。

```scss
// 在盒子布局的尾部放置一个块级元素，设置不允许两侧有浮动元素
.block {
  clear: both;
}
```

### 2. 伪元素清除浮动

```scss
.clearfix:after {
  content: '.'; // 伪元素必写，添加内容为兼容写法
  display: block; // 设置块级元素以设置清除浮动属性
  visibility: hidden; // 隐藏元素
  height: 0; // 高度为0，不显示此元素
  clear: both; // 清除浮动
}
/* for IE */
.clearfix {
  *zoom: 1; // 兼容IE
}
```

> [!tip]
>
> 也可以给父级元素设置 overflow: hidden; 或 overflow: auto; 清除浮动，本质上是将 BFC 中子元素浮动任然会进行计算，且 BFC 有单独作用域，会将其与其他元素隔开。

## CSS 画三角形

border 在无内容情况下四边是呈三角形显示的，所以只需要把另外三边的颜色都设为 transparent（透明），即可实现三角形，其他隐藏的左边框依然占据着空间，如果不想要，可以把对应方向边框的 border-width 设为 0。

```scss
/* HTML */
div {
  width: 0;
  height: 0;
  border-style: solid;
  border-width: 40px 0 40px 40px;
  border-color: transparent transparent transparent red;
}
```

## 小于 1px 的边框

### 1. 渐变（效果较好）

```scss
.layout {
  position: relative;
  .layout::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 1px;
    background-image: linear-gradient(
      0deg,
      transparent 50%,
      #000 50%
    ); // 0 edg 向↑ 90edg 向→;-webkit 原理实现 为 90edg 向↑，0 edg 向→
  }
}
```

### 2. 缩放

```scss
.layout {
  position: relative;
  .layout::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 1px;
    background-color: #000;
    transform: scaleY(0.5);
  }
}
```

### 3. 缩放加强（四边）

```scss
.layout {
  position: relative;
  .layout::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 200%;
    height: 200%;
    border: 1px solid #000;
    transform-origin: 0 0; // 缩放定位设置为左上角
    transform: scale(0.5, 0.5);
  }
}
```

### 4. 边框阴影（最简便）

```scss
.layout {
  box-shadow: 0 0 1px 1px #000 inset;
}
```

## 小于 12px 的字体

利用缩放将字体显示缩小，但又因为缩放会继承，所以设置时针对需要小于 `12px` 的字体标签进行特定标签包裹设置即可。

```scss
.layout {
  font-size: 12px;
  transform: scale(0.8); // 10px
}
```

## 文本溢出显示

### 单行文本

```scss
// 前置条件: 设置宽度
.layout {
  white-space: nowrap; // 是否折行
  overflow: hidden; // 溢出隐藏
  text-overflow: ellipsis; // 文本溢出部分以省略号代替
}
```

### 多行文本

```scss
.layout {
  overflow: hidden; // 溢出隐藏
  text-overflow: ellipsis; // 文本溢出部分以省略号代替
  display: -webkit-box; // 将对象作为弹性伸缩盒子模型显示
  -webkit-line-clamp: 4; // 控制最多显示几行
  -webkit-box-orient: vertical; // 设置伸缩盒对象子元素的排列方式
}
```
